<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Editor de Texto - DOM y JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body>
    <div class="container my-1 my-sm-2 my-md-4 my-lg-5">
        <h1>Editor de Texto</h1>
        <div class="card">
            <div class="card-body">
                <h2>Texto</h2>

                <p class="texto" id="texto">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec elementum auctor libero, vel imperdiet est. Etiam blandit facilisis ex, nec cursus metus pharetra quis. Fusce imperdiet nisl nibh, ac aliquet ante elementum vitae.</p>
                <label>Editar</label><input type="text" id="editar" name="editar" class="form-control" placeholder="Escribe aquí tu texto">
                <button id="btn-editar" class="btn btn-primary my-2" onclick="cambiarTexto()">Editar Texto</button>
                <hr class="hr">

                <h2>Opciones de Formato</h2>
                <div class="row">
                    <div class="col-12 col-md-4 my-1">
                        <button id="btn-negrita" class="btn d-block w-100 btn-primary" data-formato="negrita">
                            Bold (Negrita)
                        </button>
                    </div>
                    <div class="col-12 col-md-4 my-1">
                        <button id="btn-cursiva" class="btn d-block w-100 btn-primary" data-formato="cursiva">
                            Italic (Cursiva)
                        </button>
                    </div>
                    <div class="col-12 col-md-4 my-1">
                        <button id="btn-subrayado" class="btn d-block w-100 btn-primary" data-formato="subrayado">
                            Underline (Subrayado)
                        </button>
                    </div>
                     <div class="col-12 col-md-4 my-1">
                        <button id="btn-color" class="btn d-block w-100 btn-primary" data-formato="color">
                           Cambiar Color Texto
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <script type="text/javascript">
     //Implementar las funciones de estilo que ya están definidas en el HTML inicial: negrita, cursiva y subrayado.
    //Añadir un nuevo botón que aplique un estilo adicional al texto (por ejemplo, cambiar el color del texto).
    //Incluir un campo de entrada (input) que permita al usuario editar el texto mostrado.
    //Mostrar el estado actual de cada estilo en los botones correspondientes. Esto puede hacerse cambiando el color o el texto del botón para indicar si el estilo está activado o no.
    //Agregar una funcionalidad para modificar el tamaño del texto.
     /**
         * funcionNegrita()
         * Esta función se ejecuta cuando el usuario selecciona la opción Bold (negrita).
         */
        function funcionNegrita() {
           const texto = document.getElementById('texto');
           // Verifica si el texto ya está en negrita   
           if (texto.style.fontWeight === 'bold') {
               // Si ya está en negrita, lo quita
               texto.style.fontWeight = 'normal';
           } else {
               // Si no está en negrita, lo pone
               texto.style.fontWeight = 'bold';
           }
        }

        /**
         * funcionCursiva()
         * Esta función se ejecuta cuando el usuario selecciona la opción Italic (cursiva).
         */
        function funcionCursiva() {
            const texto = document.getElementById('texto');
            // Verifica si el texto ya está en cursiva
            if (texto.style.fontStyle === 'italic') {
                // Si ya está en cursiva, lo quita
                texto.style.fontStyle = 'normal';
            } else {
                // Si no está en cursiva, lo pone
                texto.style.fontStyle = 'italic';
            }
        }

        /**
         * funcionSubrayado()
         * Esta función se ejecuta cuando el usuario selecciona la opción Underline (subrayado).
         */
        function funcionSubrayado() {
            const texto = document.getElementById('texto');
            // Verifica si el texto ya está subrayado   
            if (texto.style.textDecoration === 'underline') {
                // Si ya está subrayado, lo quita
                texto.style.textDecoration = 'none';
            } else {
                // Si no está subrayado, lo pone
                texto.style.textDecoration = 'underline';
            }
        }
        function cambiarTexto() {
            const texto = document.getElementById('texto');
            const nuevoTexto = document.getElementById('editar').value;
            // Cambia el contenido del párrafo con el nuevo texto ingresado
            texto.textContent = nuevoTexto;
        }
        function cambiarColorTexto() {
            const texto = document.getElementById('texto');
            // Cambia el color del texto a un color aleatorio
            texto.style.color = '#' + Math.floor(Math.random()*16777215).toString(16);
        }
        function handlerBoton(e) {
            // Obtiene el valor del atributo "data-formato" del botón que disparó el evento
            const funcionBoton = e.target.dataset.formato;
            switch (funcionBoton) {
                case 'negrita':
                    funcionNegrita();
                    break;
                case 'cursiva':
                    funcionCursiva();
                    break;
                case 'subrayado':
                    funcionSubrayado();
                    break;
                case 'color':
                    cambiarColorTexto();
                    break;
            }
        }
        document.querySelectorAll('button.btn').forEach(e => e.addEventListener('click', handlerBoton));
    </script>
</body>
</html>
